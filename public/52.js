(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{283:function(e,t,n){"use strict";n.r(t);var i=n(78),r=n(84),a={components:{Multiselect:n.n(r).a},data:function(){return{organizer:[],organizerList:[],initOrganizers:[],isModalVisible:!1,isEditModalVisible:!1,modalDelete:"",isLoading:""}},computed:{organizers:function(){return this.organizerList.length?this.organizerList:this.initOrganizers}},methods:{showModal:function(e){this.modalDelete=e,this.isEditModalVisible=!0},onDelete:function(e){var t=this;axios.delete("/regions/".concat(e.id)).then((function(e){t.isEditModalVisible=!1,t.onLoad()})).catch((function(e){t.serverErrors=e.response.data.errors}))},onLoad:function(){var e=this;axios.get("/admin/organizer/fetch").then((function(t){e.initOrganizers=t.data})).catch((function(t){e.serverErrors=t.response.data.errors}))},onSaveUser:function(e){var t=this,n={user_id:e.user_id};axios.patch("/admin/organizer/".concat(e.slug),n).then((function(e){console.log(e.data),t.onLoad()})).catch((function(e){t.serverErrors=e.response.data.errors}))},onSaveName:function(e){var t=this,n={name:e.name};axios.patch("/admin/organizer/".concat(e.slug),n).then((function(e){console.log(e.data),t.onLoad()})).catch((function(e){t.serverErrors=e.response.data.errors}))},asyncGenerateOrganizerList:function(e){var t=this;axios.get("/api/organizer/search",{params:{keywords:e}}).then((function(e){console.log(e.data),t.organizerList=e.data}))}},created:function(){this.onLoad()},validations:{region:{required:i.required}}},o=n(81),s=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"organizers"},[e._m(0),e._v(" "),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer,expression:"organizer"}],staticClass:"general",attrs:{placeholder:"Filter by organization name",type:"text"},domProps:{value:e.organizer},on:{keyup:function(t){return e.asyncGenerateOrganizerList(e.organizer)},input:function(t){t.target.composing||(e.organizer=t.target.value)}}})]),e._v(" "),e._l(e.organizers,(function(t,i){return n("div",{staticClass:"list"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"organizer.name"}],attrs:{type:"text",placeholder:"Organization"},domProps:{value:t.name},on:{blur:function(n){return e.onSaveName(t)},input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"organizer.user_id"}],attrs:{type:"text",placeholder:"Owner Id"},domProps:{value:t.user_id},on:{blur:function(n){return e.onSaveUser(t)},input:function(n){n.target.composing||e.$set(t,"user_id",n.target.value)}}}),e._v(" "),n("button",{staticClass:"delete-circle",on:{click:function(t){return t.preventDefault(),e.showModal(e.user)}}},[n("p",[e._v("X")])])])})),e._v(" "),n("modal",{directives:[{name:"show",rawName:"v-show",value:e.isEditModalVisible,expression:"isEditModalVisible"}],on:{close:function(t){e.isEditModalVisible=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"circle del"},[n("p",[e._v("X")])])]),e._v(" "),n("div",{attrs:{slot:"body"},slot:"body"},[n("h3",[e._v("Are you sure?")]),e._v(" "),n("p",[e._v("You are deleting the organizer "+e._s(e.modalDelete.name)+" and its events.")])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn del",on:{click:function(t){return t.preventDefault(),e.onDelete(e.modalDelete)}}},[e._v("Delete")])])])],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("div",{staticClass:"title"},[t("h1",[this._v("Organizers")])])])}],!1,null,null,null);t.default=s.exports}}]);