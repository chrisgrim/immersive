(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"4yq0":function(e,t,i){"use strict";i.r(t);var n=i("ta7f"),a={data:function(){return{interactiveLevels:"",active:"",interactiveLevel:{name:"",description:""},isModalVisible:!1,isEditModalVisible:!1,modalDelete:""}},computed:{},methods:{onSubmit:function(){var e=this;if(this.$v.$touch(),this.$v.$invalid)return!1;var t={name:this.interactiveLevel.name,description:this.interactiveLevel.description};axios.post("/interactivelevels",t).then((function(e){console.log(e.data),location.reload()})).catch((function(t){e.isModalVisible=!1}))},showModal:function(e){this.modalDelete=e,this.isEditModalVisible=!0},deleteInteractiveLevel:function(e){var t=this;axios.delete("/interactivelevels/".concat(e.id)).then((function(e){console.log(e.data),t.isEditModalVisible=!1,t.loadInteractiveLevels()})).catch((function(e){t.serverErrors=e.response.data.errors}))},loadInteractiveLevels:function(){var e=this;axios.get("/interactivelevels").then((function(t){e.interactiveLevels=t.data})).catch((function(t){e.serverErrors=t.response.data.errors}))},saveInteractive:function(e){var t=this,i={name:e.name};axios.patch("/interactivelevels/".concat(e.id),i).then((function(e){console.log(e.data),t.loadInteractiveLevels()})).catch((function(e){t.serverErrors=e.response.data.errors}))},saveDescription:function(e){var t=this,i={description:e.description};axios.patch("/interactivelevels/".concat(e.id),i).then((function(e){console.log(e.data)})).catch((function(e){t.serverErrors=e.response.data.errors}))},saveRank:function(e){var t=this,i={rank:e.rank};axios.patch("/interactivelevels/".concat(e.id),i).then((function(e){console.log(e.data),t.loadInteractiveLevels()})).catch((function(e){t.serverErrors=e.response.data.errors}))}},created:function(){this.loadInteractiveLevels()},validations:{interactiveLevel:{name:{required:n.required},description:{required:n.required}}}},r=i("KHd+"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"genres"},[i("div",{},[i("div",{staticClass:"title"},[i("h1",[e._v("Interactive Levels")]),e._v(" "),i("div",{staticClass:"add"},[i("button",{on:{click:function(t){t.preventDefault(),e.isModalVisible=!0}}},[i("p",[e._v("+")])])])])]),e._v(" "),e._l(e.interactiveLevels,(function(t,n){return i("div",{staticClass:"list"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"interactiveLevel.name"}],attrs:{type:"text",placeholder:"Interactive Level"},domProps:{value:t.name},on:{blur:function(i){return e.saveInteractive(t)},input:function(i){i.target.composing||e.$set(t,"name",i.target.value)}}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"interactiveLevel.description"}],attrs:{type:"text",placeholder:"Interactive level description"},domProps:{value:t.description},on:{blur:function(i){return e.saveDescription(t)},input:function(i){i.target.composing||e.$set(t,"description",i.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.rank,expression:"interactiveLevel.rank"}],attrs:{type:"text",placeholder:"Rank"},domProps:{value:t.rank},on:{blur:function(i){return e.saveRank(t)},input:function(i){i.target.composing||e.$set(t,"rank",i.target.value)}}}),e._v(" "),i("button",{staticClass:"delete-circle",on:{click:function(i){return i.preventDefault(),e.showModal(t)}}},[i("p",[e._v("X")])])])})),e._v(" "),e.isEditModalVisible?i("modal",{on:{close:function(t){e.isEditModalVisible=!1}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"circle del"},[i("p",[e._v("X")])])]),e._v(" "),i("div",{attrs:{slot:"body"},slot:"body"},[i("h3",[e._v("Are you sure?")]),e._v(" "),i("p",[e._v("You are deleting "+e._s(e.modalDelete.level)+".")])]),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"btn del",on:{click:function(t){return t.preventDefault(),e.deleteInteractiveLevel(e.modalDelete)}}},[e._v("Delete")])])]):e._e(),e._v(" "),i("div",{staticClass:"pin noimg"},[e.isModalVisible?i("modal",{on:{close:function(t){e.isModalVisible=!1}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div")]),e._v(" "),i("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[i("div",{staticClass:"text"},[i("div",{staticClass:"name"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.interactiveLevel.name,expression:"interactiveLevel.name"}],class:{active:e.active="name"},attrs:{type:"text",placeholder:"Interactive Level"},domProps:{value:e.interactiveLevel.name},on:{click:function(t){e.active="name"},blur:function(t){e.active=null},input:[function(t){t.target.composing||e.$set(e.interactiveLevel,"name",t.target.value)},e.$v.interactiveLevel.name.$touch]}}),e._v(" "),e.$v.interactiveLevel.name.$error?i("div",{staticClass:"validation-error"},[e.$v.interactiveLevel.name.required?e._e():i("p",{staticClass:"error"},[e._v("Please add interactive level name ")])]):e._e(),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.interactiveLevel.description,expression:"interactiveLevel.description"}],attrs:{type:"text",placeholder:"Interactive level description"},domProps:{value:e.interactiveLevel.description},on:{blur:function(t){return e.saveDescription(e.interactiveLevel)},input:function(t){t.target.composing||e.$set(e.interactiveLevel,"description",t.target.value)}}}),e._v(" "),e.$v.interactiveLevel.description.$error?i("div",{staticClass:"validation-error"},[e.$v.interactiveLevel.description.required?e._e():i("p",{staticClass:"error"},[e._v("Please add interactive level description ")])]):e._e()])])]),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"btn sub",on:{click:function(t){return t.preventDefault(),e.onSubmit()}}},[e._v("Submit")])])]):e._e()],1)],2)}),[],!1,null,null,null);t.default=o.exports},"KHd+":function(e,t,i){"use strict";function n(e,t,i,n,a,r,o,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var v=c.render;c.render=function(e,t){return l.call(t),v(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))}}]);