(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{Jw1H:function(e,t,s){"use strict";s.r(t);var i={props:["event","inputclass"],computed:{classes:function(){return["fa",this.isFavorited?"hearted":"unhearted"]},endpoint:function(){return"/favorite/"+this.event.slug+"/favorites"},isApproved:function(){return"p"!==this.event.status?"dis":""}},data:function(){return{user:this.$store.state.user?this.$store.state.user:"",isFavorited:this.event.isFavorited,modal:!1,login:!1,isVerifyVisible:!1,modalwidth:"newsletter",newsletter:!0,canFavorite:!(!this.$store.state.user||!this.$store.state.user.email_verified_at),hasCookie:this.$cookies.isKey("news")}},methods:{toggle:function(){return this.canFavorite&&this.hasCookie?this.isFavorited?this.destroy():this.create():this.canFavorite?this.modal=!0:this.user?this.isVerifyVisible=!0:this.login=!0},updateNewsletter:function(){var e=this;this.$cookies.set("news",!0,"Infinity");var t={newsletter:this.newsletter};axios.patch("/users/".concat(this.user.id),t).then((function(t){console.log(t.data),e.isFavorited?e.destroy():e.create()})).catch((function(e){console.log(e.response.data)})).then((function(e){location.reload()}))},toggleBodyClass:function(e,t){var s=document.body;"addClass"===e?s.classList.add(t):s.classList.remove(t)},create:function(){axios.post(this.endpoint),this.isFavorited=!0},destroy:function(){axios.delete(this.endpoint),this.isFavorited=!1}},watch:{modal:function(){return this.modal?this.toggleBodyClass("addClass","noscroll"):this.toggleBodyClass("removeClass","noscroll")},login:function(){return this.login?this.toggleBodyClass("addClass","noscroll"):this.toggleBodyClass("removeClass","noscroll")}}},o=s("KHd+"),n=Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fav"},[s("div",{class:e.inputclass},[s("div",{class:e.isApproved},[s("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggle()}}},[s("svg",{class:e.classes,attrs:{viewBox:"0 0 38 38"}},[s("path",{attrs:{d:"m23.99 2.75c-.3 0-.6.02-.9.05-1.14.13-2.29.51-3.41 1.14-1.23.68-2.41 1.62-3.69 2.94-1.28-1.32-2.46-2.25-3.69-2.94-1.12-.62-2.27-1-3.41-1.14a7.96 7.96 0 0 0 -.9-.05c-1.88 0-7.26 1.54-7.26 8.38 0 7.86 12.24 16.33 14.69 17.95a1 1 0 0 0 1.11 0c2.45-1.62 14.69-10.09 14.69-17.95 0-6.84-5.37-8.38-7.26-8.38"}})])])])]),e._v(" "),e.login?s("login-pop",{attrs:{visible:e.login},on:{close:function(t){e.login=!1}}}):e._e(),e._v(" "),e.modal?s("modal",{attrs:{modalclass:e.modalwidth},on:{close:function(t){e.modal=!1}}},[s("div",{attrs:{slot:"header"},slot:"header"}),e._v(" "),s("div",{attrs:{slot:"body"},slot:"body"},[s("h3",[e._v("Get Notified?")]),e._v(" "),s("p",[e._v("Would you like to recieve an email whenever the organizers of your favorited events have updates or releases new events? (This can be edited in your profile at any time)")]),e._v(" "),s("br"),e._v(" "),s("div",{staticClass:"field"},[s("div",{attrs:{id:"cover"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newsletter,expression:"newsletter"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.newsletter)?e._i(e.newsletter,null)>-1:e.newsletter},on:{change:function(t){var s=e.newsletter,i=t.target,o=!!i.checked;if(Array.isArray(s)){var n=e._i(s,null);i.checked?n<0&&(e.newsletter=s.concat([null])):n>-1&&(e.newsletter=s.slice(0,n).concat(s.slice(n+1)))}else e.newsletter=o}}}),e._v(" "),s("div",{attrs:{id:"bar"}}),e._v(" "),s("div",{attrs:{id:"knob"}},[e.newsletter?s("p",[e._v("Yes")]):s("p",[e._v("No")])])])])]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"btn sub",on:{click:e.updateNewsletter}},[e._v("Done")])])]):e._e(),e._v(" "),e.isVerifyVisible?s("vue-email-verify",{attrs:{user:e.user,message:"verify"},on:{close:function(t){e.isVerifyVisible=!1}}}):e._e()],1)}),[],!1,null,null,null);t.default=n.exports},"KHd+":function(e,t,s){"use strict";function i(e,t,s,i,o,n,r,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}s.d(t,"a",(function(){return i}))}}]);