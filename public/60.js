(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{299:function(e,t,n){"use strict";n.r(t);var s,r=n(84),a=n.n(r),o=n(85),c=n.n(o),i=n(8);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(u(s={components:{Multiselect:a.a},name:"userSearchRequest"},"name","searchEvents"),u(s,"computed",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onSearchPage:function(){return"/index/search"===this.$router.currentRoute.path}},Object(i.b)(["userSearchRequest"]),{placeholder:function(){return this.$store.state.userSearchRequest.name?this.$store.state.userSearchRequest.name:'Try "Los Angeles"'}})),u(s,"data",(function(){return{searchBoxInput:[],searchBoxOptions:[],isLoading:!1,search:this.initializeSearchObject()}})),u(s,"methods",{asyncGenerateCitiesList:function(e){var t=this;axios.get("/api/search/navbar/content",{params:{keywords:e}}).then((function(e){console.log(e.data),t.searchBoxOptions=e.data}))},initializeSearchObject:function(){return{name:"",latitude:"",longitude:""}},searchEvents:function(){c.a.has(this.searchBoxInput,"latitude")&&(!0===this.onSearchPage?this.localSearch():this.globalSearch()),c.a.has(this.searchBoxInput,"twitterHandle")&&(window.location.href="/organizer/".concat(this.searchBoxInput.slug)),c.a.has(this.searchBoxInput,"tag_line")&&(window.location.href="/events/".concat(this.searchBoxInput.slug))},globalSearch:function(){axios.post("/search/storedata",this.searchBoxInput).then((function(e){window.location.href="/index/search"}))},localSearch:function(){this.$store.dispatch("searchEvents",this.searchBoxInput),this.$store.dispatch("userSearchRequest",this.searchBoxInput)},eventSearch:function(){console.log()}}),u(s,"mounted",(function(){})),s),p=n(81),d=Object(p.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search"},[n("div",{},[n("multiselect",{attrs:{options:e.searchBoxOptions,"open-direction":"bottom",placeholder:e.placeholder,label:"name",loading:e.isLoading,"show-labels":!1,"internal-search":!1,"options-limit":30,limit:5,"track-by":"name","show-no-results":!1,"allow-empty":!1},on:{open:e.asyncGenerateCitiesList,"search-change":e.asyncGenerateCitiesList,input:e.searchEvents},scopedSlots:e._u([{key:"selection",fn:function(t){var s=t.values,r=(t.search,t.isOpen);return[s.length&&!r?n("span",{staticClass:"multiselect__single"},[e._v("\n                    "+e._s(s.length)+" options selected\n                ")]):e._e()]}}]),model:{value:e.searchBoxInput,callback:function(t){e.searchBoxInput=t},expression:"searchBoxInput"}})],1)])}),[],!1,null,null,null);t.default=d.exports}}]);