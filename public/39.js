(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{EGaT:function(e,t,n){"use strict";n.r(t);var s={data:function(){return{genres:"",active:!1,name:"",isModalVisible:!1,isEditModalVisible:!1,modalDelete:""}},computed:{},methods:{submitNewGenre:function(){var e=this;if(this.$v.$touch(),this.$v.$invalid)return!1;var t={name:this.name};axios.post("/genres",t).then((function(t){console.log(t.data),e.isModalVisible=!1,e.name="",e.loadGenres()})).catch((function(t){e.isModalVisible=!1}))},showModal:function(e){this.modalDelete=e,this.isEditModalVisible=!0},deleteGenre:function(e){var t=this;axios.delete("/genres/".concat(e.id)).then((function(e){console.log(e.data),t.isEditModalVisible=!1,t.loadGenres()})).catch((function(e){t.serverErrors=e.response.data.errors}))},loadGenres:function(){var e=this;axios.get("/genres").then((function(t){e.genres=t.data})).catch((function(t){e.serverErrors=t.response.data.errors}))},saveGenre:function(e){var t=this,n={name:e.name};axios.patch("/genres/".concat(e.id),n).then((function(e){console.log(e.data),t.loadGenres()})).catch((function(e){t.serverErrors=e.response.data.errors}))},saveRank:function(e){var t=this,n={rank:e.rank};axios.patch("/genres/".concat(e.id),n).then((function(e){console.log(e.data),t.loadGenres()})).catch((function(e){t.serverErrors=e.response.data.errors}))}},created:function(){this.loadGenres()},validations:{name:{required:n("ta7f").required}}},a=n("KHd+"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"genres"},[n("div",{},[n("div",{staticClass:"title"},[n("h1",[e._v("Tags")]),e._v(" "),n("div",{staticClass:"add"},[n("button",{on:{click:function(t){t.preventDefault(),e.isModalVisible=!0}}},[n("p",[e._v("+")])])])])]),e._v(" "),e._l(e.genres,(function(t,s){return n("div",{staticClass:"list"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"genre.name"}],attrs:{type:"text",placeholder:"Genre"},domProps:{value:t.name},on:{blur:function(n){return e.saveGenre(t)},input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.rank,expression:"genre.rank"}],attrs:{type:"text",placeholder:"Genre"},domProps:{value:t.rank},on:{blur:function(n){return e.saveRank(t)},input:function(n){n.target.composing||e.$set(t,"rank",n.target.value)}}}),e._v(" "),n("button",{staticClass:"delete-circle",on:{click:function(n){return n.preventDefault(),e.showModal(t)}}},[n("p",[e._v("X")])])])})),e._v(" "),e.isEditModalVisible?n("modal",{on:{close:function(t){e.isEditModalVisible=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"circle del"},[n("p",[e._v("X")])])]),e._v(" "),n("div",{attrs:{slot:"body"},slot:"body"},[n("h3",[e._v("Are you sure?")]),e._v(" "),n("p",[e._v("You are deleting "+e._s(e.modalDelete.genre)+".")])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn del",on:{click:function(t){return t.preventDefault(),e.deleteGenre(e.modalDelete)}}},[e._v("Delete")])])]):e._e(),e._v(" "),n("div",{staticClass:"pin noimg"},[e.isModalVisible?n("modal",{on:{close:function(t){e.isModalVisible=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div")]),e._v(" "),n("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"text"},[n("div",{staticClass:"name"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],class:{active:e.active},attrs:{type:"text",placeholder:"Genre"},domProps:{value:e.name},on:{click:function(t){e.active=!0},blur:function(t){e.active=!1},input:[function(t){t.target.composing||(e.name=t.target.value)},e.$v.name.$touch]}}),e._v(" "),e.$v.name.$error?n("div",{staticClass:"validation-error"},[e.$v.name.required?e._e():n("p",{staticClass:"error"},[e._v("Please Add Genre ")])]):e._e()])])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn sub",on:{click:function(t){return t.preventDefault(),e.submitNewGenre()}}},[e._v("Submit")])])]):e._e()],1)],2)}),[],!1,null,null,null);t.default=o.exports},"KHd+":function(e,t,n){"use strict";function s(e,t,n,s,a,o,i,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),s&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):a&&(l=r?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return s}))}}]);