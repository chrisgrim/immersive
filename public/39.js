(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{259:function(e,t,r){"use strict";r.r(t);var i=r(78),s={props:{user:{type:String}},data:function(){return{modal:"",selectedModal:"",showMore:"",organizerEvents:[],review:"",reviewername:"",url:"",activeItem:""}},computed:{getUrl:function(e){return this.events.in_progress_events}},methods:{deleteRow:function(e){var t=this;axios.delete("/events/".concat(this.selectedModal.slug)).then((function(e){t.events=e.data,t.selectedModal="",t.modal="",t.loadEvents()})).catch((function(e){e.response.data.errors}))},submitReview:function(e){var t=this,r={event:this.selectedModal,url:this.url,review:this.review,reviewername:this.reviewername};axios.post("/reviewevents",r).then((function(e){t.selectedModal="",t.modal=""})).catch((function(e){}))},showModal:function(e,t){this.selectedModal=e,this.modal=t},closeModal:function(){this.isModalVisible=!1},loadEvents:function(){var e=this;axios.get("/create-event/edit/fetch?timestamp=".concat((new Date).getTime())).then((function(t){e.organizerEvents=t.data}))},newEvent:function(e){var t=this;axios.post("/events",e).then((function(e){window.location.href="/create-event/".concat(e.data.slug,"/title")})).catch((function(e){t.serverErrors=e.response.data.errors}))},showOrganizer:function(e){window.location.href="/organizer/".concat(e.slug)}},created:function(){this.loadEvents()},validations:{reviewername:{required:i.required},url:{required:i.required,url:i.url},review:{required:i.required,maxLength:Object(i.maxLength)(120)}}},a=r(81),n=Object(a.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"editevents"},e._l(e.organizerEvents,(function(t,i){return r("div",[r("div",{staticClass:"section"},[r("div",{staticClass:"title-block"},[r("div",{staticClass:"image",style:{backgroundImage:"url('/storage/"+t.imagePath+"')"}}),e._v(" "),r("div",{staticClass:"title"},[e._v("\n                        "+e._s(t.name)+"\n                    ")]),e._v(" "),r("div",{staticClass:"buttons"},[r("a",{attrs:{href:"/organizer/"+t.slug+"/edit"}},[r("button",{staticClass:"edit"},[e._v("Edit")])]),e._v(" "),r("button",{staticClass:"prev",on:{click:function(r){return r.preventDefault(),e.showOrganizer(t)}}},[e._v("Preview Organizer")])])]),e._v(" "),r("div",{staticClass:"listing-details-block"},[r("tabs",[r("tab",{staticClass:"tab-events",attrs:{title:"Current Events",active:!0,id:"grid"}},[r("div",{on:{click:function(r){return r.preventDefault(),e.newEvent(t)}}},[r("div",{staticClass:"enew"},[r("div",{staticClass:"body"},[r("div",{staticClass:"event"},[r("div",[r("svg",{staticClass:"b",attrs:{height:"32",width:"32",viewBox:"0 0 24 24","aria-label":"Add an image or video",role:"img"}},[r("path",{attrs:{d:"M24 12c0-6.627-5.372-12-12-12C5.373 0 0 5.373 0 12s5.373 12 12 12c6.628 0 12-5.373 12-12zm-10.767 3.75a1.25 1.25 0 0 1-2.5 0v-3.948l-1.031 1.031a1.25 1.25 0 0 1-1.768-1.768L12 7l4.066 4.065a1.25 1.25 0 0 1-1.768 1.768l-1.065-1.065v3.982z"}})])]),e._v(" "),r("div",[r("p",[e._v("Add New Event")])])])])])]),e._v(" "),e._l(t.in_progress_events,(function(t,i){return i<10?r("div",{staticClass:"item"},[r("event-listing-item",{attrs:{user:e.user,event:t}}),e._v(" "),r("button",{staticClass:"del",on:{click:function(r){return r.preventDefault(),e.showModal(t,"delete")}}},[e._v("Delete")]),e._v(" "),r("button",{staticClass:"del",on:{click:function(r){return r.preventDefault(),e.showModal(t,"addreview")}}},[e._v("Add Review")])],1):e._e()})),e._v(" "),r("modal",{directives:[{name:"show",rawName:"v-show",value:"delete"==e.modal,expression:"modal == 'delete'"}],on:{close:function(t){e.modal=null}}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"circle del"},[r("p",[e._v("X")])])]),e._v(" "),r("div",{attrs:{slot:"body"},slot:"body"},[r("h3",[e._v("Are you sure?")]),e._v(" "),r("p",[e._v("You are deleting your "+e._s(e.selectedModal.name)+" event.")])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn del",on:{click:function(t){return e.deleteRow()}}},[e._v("Delete")])])]),e._v(" "),r("modal",{directives:[{name:"show",rawName:"v-show",value:"addreview"==e.modal,expression:"modal == 'addreview'"}],on:{close:function(t){e.modal=null}}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("Add Review")])]),e._v(" "),r("div",{attrs:{slot:"body"},slot:"body"},[r("div",{staticClass:"review"},[r("div",{staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.reviewername,expression:"reviewername"}],class:{active:"reviewername"==e.activeItem,error:e.$v.reviewername.$error},attrs:{type:"text",placeholder:"Reviewer's name"},domProps:{value:e.reviewername},on:{input:[function(t){t.target.composing||(e.reviewername=t.target.value)},function(t){return e.$v.reviewername.$touch()}],click:function(t){e.activeItem="reviewername"},blur:function(t){e.activeItem="reviewername"}}}),e._v(" "),e.$v.reviewername.$error?r("div",{staticClass:"validation-error"},[e.$v.reviewername.required?e._e():r("p",{staticClass:"error"},[e._v("Please add a title.")])]):e._e()]),e._v(" "),r("div",{staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],class:{active:"url"==e.activeItem,error:e.$v.url.$error},attrs:{type:"text",placeholder:"Link to the review"},domProps:{value:e.url},on:{input:[function(t){t.target.composing||(e.url=t.target.value)},function(t){return e.$v.url.$touch()}],click:function(t){e.activeItem="url"},blur:function(t){e.activeItem="url"}}}),e._v(" "),e.$v.url.$error?r("div",{staticClass:"validation-error"},[e.$v.url.required?e._e():r("p",{staticClass:"error"},[e._v("Please add a title.")]),e._v(" "),e.$v.url.url?e._e():r("p",{staticClass:"error"},[e._v("Must be a url (https://...)")])]):e._e()])]),e._v(" "),r("div",{staticClass:"field"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review,expression:"review"}],class:{active:"review"==e.activeItem,error:e.$v.review.$error},attrs:{type:"textarea",rows:"6",placeholder:"Review snippet (no longer than 120 characters)"},domProps:{value:e.review},on:{input:[function(t){t.target.composing||(e.review=t.target.value)},function(t){return e.$v.review.$touch()}],click:function(t){e.activeItem="review"},blur:function(t){e.activeItem="review"}}}),e._v(" "),e.$v.review.$error?r("div",{staticClass:"validation-error"},[e.$v.review.required?e._e():r("p",{staticClass:"error"},[e._v("Must include review snippet")]),e._v(" "),e.$v.review.maxLength?e._e():r("p",{staticClass:"error"},[e._v("The review snippit is too long.")])]):e._e()])]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn del",on:{click:function(t){return e.submitReview()}}},[e._v("Submit")])])])],2),e._v(" "),r("tab",{staticClass:"tab-events",attrs:{title:"Past Events",id:"grid"}},[e._l(t.past_events,(function(t,i){return i<4?r("div",[r("button",{staticClass:"delete-circle",on:{click:function(r){return r.preventDefault(),e.showModal(t)}}},[e._v("X")]),e._v(" "),r("event-listing-item",{attrs:{user:e.user,loadurl:"/events/"+t.slug,event:t}})],1):e._e()})),e._v(" "),r("modal",{directives:[{name:"show",rawName:"v-show",value:"delete"==e.modal,expression:"modal == 'delete'"}],on:{close:function(t){e.modal=null}}},[r("div",{attrs:{slot:"header"},slot:"header"},[e._v("Ready to Delete?")]),e._v(" "),r("div",{attrs:{slot:"body"},slot:"body"},[e._v(" Are you sure you want to delete event "+e._s(e.selectedModal.name))]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{on:{click:function(t){return e.deleteRow()}}},[e._v("Yes")])])])],2)],1)],1)])])})),0)}),[],!1,null,null,null);t.default=n.exports},81:function(e,t,r){"use strict";function i(e,t,r,i,s,a,n,o){var l,v="function"==typeof e?e.options:e;if(t&&(v.render=t,v.staticRenderFns=r,v._compiled=!0),i&&(v.functional=!0),a&&(v._scopeId="data-v-"+a),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},v._ssrRegister=l):s&&(l=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(v.functional){v._injectStyles=l;var d=v.render;v.render=function(e,t){return l.call(t),d(e,t)}}else{var c=v.beforeCreate;v.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:v}}r.d(t,"a",(function(){return i}))}}]);