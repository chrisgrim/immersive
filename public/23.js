(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{GbXj:function(e,t,i){"use strict";var a={props:{loading:{type:Boolean,default:!0}},data:function(){return{styles:{width:this.width+"px",height:this.height+"px"}}},name:"CubeSpinner"},r=i("KHd+"),n=Object(r.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return this.loading?t("div",{staticClass:"spinner"},[this._m(0),this._v(" "),t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[t("defs",[t("filter",{attrs:{id:"goo"}},[t("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:"10",result:"blur"}}),this._v(" "),t("feColorMatrix",{attrs:{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7"}})],1)])])]):this._e()}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"area"},[t("div",{staticClass:"dot dot-1"}),this._v(" "),t("div",{staticClass:"dot dot-2"}),this._v(" "),t("div",{staticClass:"dot dot-3"})])}],!1,null,null,null);t.a=n.exports},ciAJ:function(e,t,i){"use strict";t.a={methods:{checkVuelidate:function(){return this.$v.$touch(),!this.$v.$invalid&&(this.disabled=!0),this.$v.$invalid},onErrors:function(e){e&&(this.serverErrors=e.response.data.errors),this.disabled=!1},onBackInitial:function(){return window.location.href="/create-event/edit/"},onBack:function(e){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(e)},onFetch:function(e){return"/create-event/".concat(this.event.slug,"/").concat(e,"/fetch?timestamp=").concat((new Date).getTime())},onForward:function(e){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(e)},onRegistered:function(){return window.location.href="/email/verify"},onFinishOrganizer:function(e){return window.location.href=e}}}},uh4u:function(e,t,i){"use strict";i.r(t);var a={methods:{onChange:function(e){var t=this;if(e.target.files.length){var i=e.target.files[0],a=new FileReader;a.readAsDataURL(i),a.onload=function(e){var a=e.target.result,r=new Image;r.onload=function(){t.$emit("loaded",{src:a,file:i,width:r.width,height:r.height})},r.onerror=function(){t.$emit("error")},r.src=a}}}}},r=i("KHd+"),n=Object(r.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("input",{staticClass:"fileinput",attrs:{type:"file",accept:"image/*"},on:{change:this.onChange}})}),[],!1,null,null,null);t.default=n.exports},wPab:function(e,t,i){"use strict";i.r(t);var a=i("LvDl"),r=i.n(a),n=i("uh4u"),o=i("jl8+"),s=i.n(o),l=i("GbXj"),c=i("ta7f"),d={mixins:[i("ciAJ").a],props:["user","loadorganizer"],components:{ImageUpload:n.default,Multiselect:s.a,CubeSpinner:l.a},computed:{hasImage:function(){return!(!this.organizer.largeImagePath&&!this.imageFile.src)},displayImage:function(){return"backgroundImage: url('".concat(this.imageFile.src?this.imageFile.src:this.loadorganizer?"/storage/"+this.loadorganizer.largeImagePath:"","')")},endPoint:function(){return this.loadorganizer?"/organizer/".concat(this.loadorganizer.slug,"/patch"):"/organizer"}},data:function(){return{organizer:this.loadorganizer?this.loadorganizer:this.initializeOrganizerObject(),active:"",serverErrors:[],isLoading:!1,imageFile:"",disabled:!1,approved:!!this.loadorganizer,editButton:!1,modal:!1,reSubmit:!1,formData:new FormData}},methods:{initializeOrganizerObject:function(){return{id:"",name:"",description:"",website:"",email:"",imagePath:"",twitterHandle:"",facebookHandle:"",instagramHandle:"",user_id:""}},toggle:function(e){this.active=e,this.serverErrors=[]},onResubmit:function(){this.resubmit="resubmit",this.approved=!1,this.modal=!1},onImageUpload:function(e){if(this.imageFile=e,this.$v.imageFile.$touch(),this.$v.imageFile.$invalid)return!1;this.formData.append("image",this.imageFile.file)},onSubmit:function(){var e=this;if(this.checkVuelidate())return!1;this.appendData(),axios.post(this.endPoint,this.formData).then((function(t){e.onFinishOrganizer("/create-event/edit")})).catch((function(t){e.onErrors(t)}))},appendData:function(){for(var e in this.imageFile&&(this.isLoading=!0),this.organizer)null!==this.organizer[e]&&this.formData.append(e,this.organizer[e]);this.formData.append("slug",this.slugify(this.organizer.name))},onErrors:function(e){e.response.data.message.length&&(this.serverErrors={broken:"Url is broken"}),e.response.data.errors&&(this.serverErrors=e.response.data.errors),this.isLoading=!1,this.disabled=!1},goBack:function(){window.location.href="/create-event/edit"},validateText:function(e){return!!(e&&e.startsWith("http")||e.startsWith("@"))},hasServerError:function(e){return e&&r.a.has(this,"serverErrors."+e)&&!r.a.isEmpty(this.serverErrors[e])},slugify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",i="àáäâèéëêìíïîòóöôùúüûñçßÿỳýœæŕśńṕẃǵǹḿǘẍźḧ",a="aaaaeeeeiiiioooouuuuncsyyyoarsnpwgnmuxzh",r=new RegExp(i.split("").join("|"),"g");return e.toString().toLowerCase().replace(/[\s_]+/g,"-").replace(r,(function(e){return a.charAt(i.indexOf(e))})).replace(/&/g,"-".concat(t,"-")).replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}},validations:{imageFile:{fileSize:function(){return!this.imageFile||this.imageFile.file.size<20971520},fileType:function(){return!this.imageFile||["image/jpeg","image/png","image/gif"].includes(this.imageFile.file.type)},imageSize:function(){return!this.imageFile||this.imageFile.width>400&&this.imageFile.height>400}},organizer:{description:{required:c.required,maxLength:Object(c.maxLength)(1e4)},name:{required:c.required,serverFailed:function(){return!this.hasServerError("name")}},website:{url:c.url,notWorking:function(){return!this.hasServerError("broken")}},email:{email:c.email},twitterHandle:{ifHttp:function(){return!this.validateText(this.organizer.twitterHandle)}},facebookHandle:{ifHttp:function(){return!this.validateText(this.organizer.facebookHandle)}},instagramHandle:{ifHttp:function(){return!this.validateText(this.organizer.instagramHandle)}}}}},v=i("KHd+"),u=Object(v.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.serverErrors.length?i("vue-alert",{attrs:{message:"serverErrors"}}):e._e(),e._v(" "),i("div",{staticClass:"event-create__organizer"},[e._m(0),e._v(" "),i("div",{staticClass:"event-create__organizer-container grid"},[i("section",{staticClass:"event-enter-organization"},[i("div",{staticClass:"floating-form"},[e.approved?i("div",{staticClass:"field",on:{mouseover:function(t){e.editButton=!0}}},[i("p",{staticClass:"name"},[e._v(e._s(e.organizer.name))]),e._v(" "),e.editButton?i("button",{staticClass:"editTitle",on:{click:function(t){t.preventDefault(),e.modal=!0}}},[e._v("Edit")]):e._e()]):i("div",{staticClass:"field"},[i("label",[e._v("Organization name")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer.name,expression:"organizer.name"}],class:{active:"name"==e.active,error:e.$v.organizer.name.$error},attrs:{type:"text",placeholder:" ",name:"name"},domProps:{value:e.organizer.name},on:{input:[function(t){t.target.composing||e.$set(e.organizer,"name",t.target.value)},e.$v.organizer.name.$touch],click:function(t){return e.toggle("name")},blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.name.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.name.required?e._e():i("p",{staticClass:"error"},[e._v("The name is required")]),e._v(" "),e.$v.organizer.name.serverFailed?e._e():i("p",{staticClass:"error"},[e._v("The name needs to be unique")])]):e._e()]),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Organization description")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.organizer.description,expression:"organizer.description"}],class:{active:"description"==e.active,error:e.$v.organizer.description.$error},attrs:{type:"text",name:"description",placeholder:" ",rows:"8"},domProps:{value:e.organizer.description},on:{input:[function(t){t.target.composing||e.$set(e.organizer,"description",t.target.value)},e.$v.organizer.description.$touch],click:function(t){e.active="description"},blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.description.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.description.required?e._e():i("p",{staticClass:"error"},[e._v("The description is required")])]):e._e()]),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Your organization website (recommended)")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer.website,expression:"organizer.website"}],class:{active:"website"==e.active,error:e.$v.organizer.$error&&e.$v.organizer.website.$error},attrs:{type:"url",name:"website",placeholder:" "},domProps:{value:e.organizer.website},on:{input:[function(t){t.target.composing||e.$set(e.organizer,"website",t.target.value)},e.$v.organizer.website.$touch],click:function(t){return e.toggle("website")},blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.$error&&e.$v.organizer.website.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.website.url?e._e():i("p",{staticClass:"error"},[e._v("Must be a url (Needs http://)")]),e._v(" "),e.$v.organizer.website.notWorking?e._e():i("p",{staticClass:"error"},[e._v("The url doesn't seem to be working")])]):e._e()]),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Your organization email (optional)")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer.email,expression:"organizer.email"}],class:{active:"email"==e.active,error:e.$v.organizer.$error&&e.$v.organizer.email.$error},attrs:{type:"text",name:"email",placeholder:" "},domProps:{value:e.organizer.email},on:{click:function(t){e.active="email"},input:[function(t){t.target.composing||e.$set(e.organizer,"email",t.target.value)},e.$v.organizer.email.$touch],blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.$error&&e.$v.organizer.email.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.email.email?e._e():i("p",{staticClass:"error"},[e._v("Must be email")])]):e._e()]),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Twitter handle (optional)")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer.twitterHandle,expression:"organizer.twitterHandle"}],class:{active:"twitter"==e.active,error:e.$v.organizer.twitterHandle.$error},attrs:{type:"text",name:"twitterHandle",placeholder:" "},domProps:{value:e.organizer.twitterHandle},on:{input:[function(t){t.target.composing||e.$set(e.organizer,"twitterHandle",t.target.value)},e.$v.organizer.twitterHandle.$touch],click:function(t){e.active="twitter"},blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.twitterHandle.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.twitterHandle.ifHttp?e._e():i("p",{staticClass:"error"},[e._v("Please only include the social media handle (no urls or @)")])]):e._e()]),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Facebook handle (optional)")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer.facebookHandle,expression:"organizer.facebookHandle"}],class:{active:"facebook"==e.active,error:e.$v.organizer.facebookHandle.$error},attrs:{type:"text",name:"facebookHandle",placeholder:" "},domProps:{value:e.organizer.facebookHandle},on:{input:[function(t){t.target.composing||e.$set(e.organizer,"facebookHandle",t.target.value)},e.$v.organizer.facebookHandle.$touch],click:function(t){e.active="facebook"},blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.facebookHandle.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.facebookHandle.ifHttp?e._e():i("p",{staticClass:"error"},[e._v("Please only include the social media handle (no urls or @)")])]):e._e()]),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Instagram handle (optional)")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.organizer.instagramHandle,expression:"organizer.instagramHandle"}],class:{active:"instagram"==e.active,error:e.$v.organizer.instagramHandle.$error},attrs:{type:"text",name:"instagramHandle",placeholder:" "},domProps:{value:e.organizer.instagramHandle},on:{input:[function(t){t.target.composing||e.$set(e.organizer,"instagramHandle",t.target.value)},e.$v.organizer.instagramHandle.$touch],click:function(t){e.active="instagram"},blur:function(t){e.active=null}}}),e._v(" "),e.$v.organizer.instagramHandle.$error?i("div",{staticClass:"validation-error"},[e.$v.organizer.instagramHandle.ifHttp?e._e():i("p",{staticClass:"error"},[e._v("Please only include the social media handle (no urls or @)")])]):e._e()])])]),e._v(" "),i("section",{staticClass:"event-enter-organization-image"},[i("div",{staticClass:"add-organzation-image"},[i("div",{staticClass:"add-organzation-image_loader"},[i("label",{style:e.displayImage},[i("div",{staticClass:"add-organzation-image__card",class:{over:e.hasImage,load:e.isLoading}},[i("div",{staticClass:"add-organzation-image__dotted"},[i("div",{staticClass:"add-organzation-image__text"},[i("div",[e.hasImage?e._e():i("div",[i("h4",[e._v("Click to upload organization image (optional)")]),e._v(" "),e.isLoading?e._e():i("div",[i("svg",{staticClass:"b",attrs:{height:"32",width:"32",viewBox:"0 0 24 24","aria-label":"Add an image or video",role:"img"}},[i("path",{attrs:{d:"M24 12c0-6.627-5.372-12-12-12C5.373 0 0 5.373 0 12s5.373 12 12 12c6.628 0 12-5.373 12-12zm-10.767 3.75a1.25 1.25 0 0 1-2.5 0v-3.948l-1.031 1.031a1.25 1.25 0 0 1-1.768-1.768L12 7l4.066 4.065a1.25 1.25 0 0 1-1.768 1.768l-1.065-1.065v3.982z"}})])])]),e._v(" "),e.hasImage?i("p",[e._v("Change Image")]):e._e()])])]),e._v(" "),i("image-upload",{on:{loaded:e.onImageUpload}})],1),e._v(" "),i("CubeSpinner",{attrs:{loading:e.isLoading}})],1),e._v(" "),i("div",[e.$v.imageFile.$error?i("div",{staticClass:"validation-error"},[e.$v.imageFile.fileSize?e._e():i("p",{staticClass:"error"},[e._v("The Image is too large")]),e._v(" "),e.$v.imageFile.fileType?e._e():i("p",{staticClass:"error"},[e._v("The Image needs to be a JPG, PNG or GIF")]),e._v(" "),e.$v.imageFile.imageSize?e._e():i("p",{staticClass:"error"},[e._v("The image needs to be at least 400 x 400")])]):e._e()])])])]),e._v(" "),e.modal?i("modal",{on:{close:function(t){e.modal=!1}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"circle del"},[i("p",[e._v("?")])])]),e._v(" "),i("div",{attrs:{slot:"body"},slot:"body"},[i("h3",[e._v("Changing the name?")]),e._v(" "),i("p",[e._v("Changing the organization name will break any links you have sent out. This is not advised.")])]),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"btn del",on:{click:function(t){return e.onResubmit()}}},[e._v("Change Anyways")])])]):e._e(),e._v(" "),i("div",{staticClass:"create-button__back"},[this.loadorganizer?i("button",{staticClass:"create",on:{click:function(t){return t.preventDefault(),e.goBack(t)}}},[e._v(" Back ")]):e._e()]),e._v(" "),i("div",{staticClass:"create-button__forward"},[i("button",{staticClass:"create",attrs:{disabled:e.disabled},on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(" Save Organizer ")])])],1)])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("h2",[this._v("Organizer")])])}],!1,null,null,null);t.default=u.exports}}]);