(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{287:function(e,t,i){"use strict";i.r(t);var r=i(82),o=i.n(r),a=i(84),s=i.n(a),n=i(85),c=i.n(n),l=i(78);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d={components:{Multiselect:s.a},props:{event:{type:Object}},data:function(){return{advisories:this.initializeEventObject(),contactLevelOptions:[],contentAdvisoryOptions:[],mobilityAdvisoryOptions:[],contactLevel:"",contentAdvisories:"",mobilityAdvisories:"",eventUrl:"/create-event/".concat(this.event.slug),activeItem:null,ageActive:!1,ageOptions:["All Ages","12+","16+","18+","21+"],dis:!1}},methods:{initializeEventObject:function(){return{contactAdvisories:"",sexualViolence:!1,sexualViolenceDescription:"",wheelchairReady:!1,ageRestriction:""}},updateEventFields:function(e){null!==e&&"object"===v(e)&&null!==e.id&&(this.advisories=c.a.pick(e,c.a.intersection(c.a.keys(this.advisories),c.a.keys(e)))),!this.advisories.wheelchairReady&&(this.advisories.wheelchairReady=!1),!this.advisories.sexualViolence&&(this.advisories.sexualViolence=!1)},addTag:function(e){var t={advisories:e,id:e.substring(0,0)+Math.floor(1e7*Math.random())};this.contentAdvisoryOptions.push(t),this.contentAdvisories.push(t)},addTagMobility:function(e){var t={mobilities:e,id:e.substring(0,0)+Math.floor(1e7*Math.random())};this.mobilityAdvisoryOptions.push(t),this.mobilityAdvisories.push(t)},submitAdvisories:function(){var e,t=this;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.$v.$touch(),!this.$v.$invalid){i.next=3;break}return i.abrupt("return",!1);case 3:this.dis=!0,(e=this.advisories).contactLevel=this.contactLevel.map((function(e){return e.id})),e.contentAdvisory=this.contentAdvisories.map((function(e){return e.advisories})),e.mobilityAdvisory=this.mobilityAdvisories.map((function(e){return e.mobilities})),axios.patch("".concat(this.eventUrl,"/advisories"),e).then((function(e){window.location.href="".concat(t.eventUrl,"/images")})).catch((function(e){console.log(e.response.data),t.dis=!1}));case 10:case"end":return i.stop()}}),null,this)},goBack:function(){window.location.href="".concat(this.eventUrl,"/description")},load:function(){var e=this;axios.get("".concat(this.eventUrl,"/advisories/fetch?timestamp=").concat((new Date).getTime())).then((function(t){console.log(t.data),e.updateEventFields(t.data.advisories),e.contactLevel=t.data.contactPivots,e.contactLevelOptions=t.data.contactLevels,e.contentAdvisories=t.data.contentPivots,e.contentAdvisoryOptions=t.data.contentAdvisories,e.mobilityAdvisories=t.data.mobilityPivots,e.mobilityAdvisoryOptions=t.data.mobilityAdvisories}))}},created:function(){this.load()},validations:{contactLevel:{required:l.required},mobilityAdvisories:{required:l.required},contentAdvisories:{required:l.required},advisories:{contactAdvisories:{required:l.required},ageRestriction:{required:l.required},wheelchairReady:{required:l.required},sexualViolence:{required:l.required}}}},u=i(81),h=Object(u.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"advisories"},[i("div",{staticClass:"section"},[i("div",{staticClass:"texta"},[e._m(0),e._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"area"},[e._v("Explain the shows content")]),e._v(" "),i("multiselect",{class:{active:"content"==e.activeItem,error:e.$v.contentAdvisories.$error},attrs:{"show-labels":!1,options:e.contentAdvisoryOptions,multiple:!0,"tag-placeholder":"Add this as new tag",taggable:!0,"tag-position":"bottom",placeholder:"Search or add a tag","open-direction":"bottom",label:"advisories","track-by":"id"},on:{tag:e.addTag,click:function(t){e.activeItem="content"},blur:function(t){e.activeItem=null}},model:{value:e.contentAdvisories,callback:function(t){e.contentAdvisories=t},expression:"contentAdvisories"}}),e._v(" "),e.$v.contentAdvisories.$error?i("div",{staticClass:"validation-error"},[e.$v.contentAdvisories.required?e._e():i("p",{staticClass:"error"},[e._v("Must enter a mobility advisory ")])]):e._e()],1),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v("Age restriction")]),e._v(" "),i("multiselect",{class:{active:"age"==e.activeItem,error:e.$v.advisories.ageRestriction.$error},attrs:{options:e.ageOptions,"show-labels":!1,placeholder:"Select the appropriate age group","open-direction":"bottom","preselect-first":!1},on:{click:function(t){e.activeItem="age"},blur:function(t){e.activeItem=null},input:e.$v.advisories.ageRestriction.$touch},model:{value:e.advisories.ageRestriction,callback:function(t){e.$set(e.advisories,"ageRestriction",t)},expression:"advisories.ageRestriction"}}),e._v(" "),e.$v.advisories.ageRestriction.$error?i("div",{staticClass:"validation-error"},[e.$v.advisories.ageRestriction.required?e._e():i("p",{staticClass:"error"},[e._v("Required")])]):e._e()],1)]),e._v(" "),i("div",{staticClass:"textb"},[e._m(1),e._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"area"},[e._v("Select physical interaction level with guests")]),e._v(" "),i("multiselect",{class:{active:"contact"==e.activeItem,error:e.$v.contactLevel.$error},attrs:{options:e.contactLevelOptions,multiple:!0,placeholder:"Choose all that apply","open-direction":"bottom","show-labels":!1,label:"level","track-by":"id","preselect-first":!1},on:{click:function(t){e.activeItem="contact"},blur:function(t){e.activeItem=null},input:e.$v.contactLevel.$touch},model:{value:e.contactLevel,callback:function(t){e.contactLevel=t},expression:"contactLevel"}}),e._v(" "),e.$v.contactLevel.$error?i("div",{staticClass:"validation-error"},[e.$v.contactLevel.required?e._e():i("p",{staticClass:"error"},[e._v("Must choose at least one contact level ")])]):e._e()],1),e._v(" "),e.contactLevel.length?i("div",{staticClass:"field"},[i("label",{staticClass:"area"},[e._v(" Explain a bit about your contact with the audience ")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.advisories.contactAdvisories,expression:"advisories.contactAdvisories"}],staticClass:"create-input area",class:{active:"conAdv"==e.activeItem,error:e.$v.advisories.contactAdvisories.$error},attrs:{rows:"8",placeholder:" ",required:"",autofocus:""},domProps:{value:e.advisories.contactAdvisories},on:{click:function(t){e.activeItem="conAdv"},blur:function(t){e.activeItem=null},input:[function(t){t.target.composing||e.$set(e.advisories,"contactAdvisories",t.target.value)},e.$v.advisories.contactAdvisories.$touch]}}),e._v(" "),e.$v.advisories.contactAdvisories.$error?i("div",{staticClass:"validation-error"},[e.$v.advisories.contactAdvisories.required?e._e():i("p",{staticClass:"error"},[e._v("Must enter a contact advisory ")])]):e._e()]):e._e(),e._v(" "),e.contactLevel.length?i("div",{staticClass:"field"},[i("label",[e._v(" Is there sexual Violence? ")]),e._v(" "),i("div",{attrs:{id:"cover"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.advisories.sexualViolence,expression:"advisories.sexualViolence"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.advisories.sexualViolence)?e._i(e.advisories.sexualViolence,null)>-1:e.advisories.sexualViolence},on:{change:function(t){var i=e.advisories.sexualViolence,r=t.target,o=!!r.checked;if(Array.isArray(i)){var a=e._i(i,null);r.checked?a<0&&e.$set(e.advisories,"sexualViolence",i.concat([null])):a>-1&&e.$set(e.advisories,"sexualViolence",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.advisories,"sexualViolence",o)}}}),e._v(" "),i("div",{attrs:{id:"bar"}}),e._v(" "),i("div",{attrs:{id:"knob"}},[e.advisories.sexualViolence?i("p",[e._v("Yes")]):i("p",[e._v("No")])])]),e._v(" "),e.$v.advisories.sexualViolence.$error?i("div",{staticClass:"validation-error"},[e.$v.advisories.sexualViolence.required?e._e():i("p",{staticClass:"error"},[e._v("Must select if there is sexual violence")])]):e._e()]):e._e(),e._v(" "),e.advisories.sexualViolence?i("div",[i("div",{staticClass:"field"},[i("label",{staticClass:"area"},[e._v(" Explain more about the sexual violence ")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.advisories.sexualViolenceDescription,expression:"advisories.sexualViolenceDescription"}],staticClass:"create-input area",class:{active:"sexual"==e.activeItem},attrs:{rows:"8",placeholder:" ",required:"",autofocus:""},domProps:{value:e.advisories.sexualViolenceDescription},on:{click:function(t){e.activeItem="sexual"},blur:function(t){e.activeItem=null},input:function(t){t.target.composing||e.$set(e.advisories,"sexualViolenceDescription",t.target.value)}}})])]):e._e()]),e._v(" "),i("div",{staticClass:"textc"},[e._m(2),e._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"area"},[e._v("Select any mobility restrictions")]),e._v(" "),i("multiselect",{class:{active:"mobility"==e.activeItem,error:e.$v.mobilityAdvisories.$error},attrs:{options:e.mobilityAdvisoryOptions,multiple:!0,"show-labels":!1,"tag-placeholder":"Add this as new tag",taggable:!0,"tag-position":"bottom",placeholder:"Search or add a tag","open-direction":"bottom",label:"mobilities","track-by":"id"},on:{tag:e.addTagMobility,click:function(t){e.activeItem="mobility"},blur:function(t){e.activeItem=null},input:e.$v.mobilityAdvisories.$touch},model:{value:e.mobilityAdvisories,callback:function(t){e.mobilityAdvisories=t},expression:"mobilityAdvisories"}}),e._v(" "),e.$v.mobilityAdvisories.$error?i("div",{staticClass:"validation-error"},[e.$v.mobilityAdvisories.required?e._e():i("p",{staticClass:"error"},[e._v("Must enter a mobility advisory ")])]):e._e()],1),e._v(" "),i("div",{staticClass:"field"},[i("label",[e._v(" Is the Event Wheel Chair Accessible? ")]),e._v(" "),i("div",{attrs:{id:"cover"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.advisories.wheelchairReady,expression:"advisories.wheelchairReady"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.advisories.wheelchairReady)?e._i(e.advisories.wheelchairReady,null)>-1:e.advisories.wheelchairReady},on:{change:function(t){var i=e.advisories.wheelchairReady,r=t.target,o=!!r.checked;if(Array.isArray(i)){var a=e._i(i,null);r.checked?a<0&&e.$set(e.advisories,"wheelchairReady",i.concat([null])):a>-1&&e.$set(e.advisories,"wheelchairReady",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.advisories,"wheelchairReady",o)}}}),e._v(" "),i("div",{attrs:{id:"bar"}}),e._v(" "),i("div",{attrs:{id:"knob"}},[e.advisories.wheelchairReady?i("p",[e._v("Yes")]):i("p",[e._v("No")])])]),e._v(" "),e.$v.advisories.wheelchairReady.$error?i("div",{staticClass:"validation-error"},[e.$v.advisories.wheelchairReady.required?e._e():i("p",{staticClass:"error"},[e._v("Must select if the event is wheelchair accessible ")])]):e._e()]),e._v(" "),i("button",{staticClass:"create",attrs:{disabled:e.dis},on:{click:function(t){return t.preventDefault(),e.submitAdvisories()}}},[e._v(" Next ")])]),e._v(" "),i("div",{staticClass:"mobile"}),e._v(" "),i("div",{staticClass:"inNav"},[i("button",{staticClass:"create",attrs:{disabled:e.dis},on:{click:function(t){return t.preventDefault(),e.goBack()}}},[e._v(" Back ")]),e._v(" "),i("button",{staticClass:"create",attrs:{disabled:e.dis},on:{click:function(t){return t.preventDefault(),e.submitAdvisories()}}},[e._v(" Next ")])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ctitle"},[t("h2",[this._v("Content Advisories")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ctitle"},[t("h2",[this._v("Contact Advisories")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ctitle"},[t("h2",[this._v("Mobility Advisories")])])}],!1,null,null,null);t.default=h.exports},82:function(e,t,i){e.exports=i(83)},83:function(e,t,i){var r=function(e){"use strict";var t,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",n=o.toStringTag||"@@toStringTag";function c(e,t,i,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new k(r||[]);return a._invoke=function(e,t,i){var r=v;return function(o,a){if(r===u)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return O()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var n=$(s,i);if(n){if(n===f)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===v)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=u;var c=l(e,t,i);if("normal"===c.type){if(r=i.done?h:d,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=h,i.method="throw",i.arg=c.arg)}}}(e,i,s),a}function l(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var v="suspendedStart",d="suspendedYield",u="executing",h="completed",f={};function p(){}function y(){}function m(){}var b={};b[a]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(E([])));_&&_!==i&&r.call(_,a)&&(b=_);var w=m.prototype=p.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e){var t;this._invoke=function(i,o){function a(){return new Promise((function(t,a){!function t(i,o,a,s){var n=l(e[i],e,o);if("throw"!==n.type){var c=n.arg,v=c.value;return v&&"object"==typeof v&&r.call(v,"__await")?Promise.resolve(v.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):Promise.resolve(v).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,s)}))}s(n.arg)}(i,o,t,a)}))}return t=t?t.then(a,a):a()}}function $(e,i){var r=e.iterator[i.method];if(r===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,$(e,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=l(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,f;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,f):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function E(e){if(e){var i=e[a];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function i(){for(;++o<e.length;)if(r.call(e,o))return i.value=e[o],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=w.constructor=m,m.constructor=y,m[n]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(A.prototype),A.prototype[s]=function(){return this},e.AsyncIterator=A,e.async=function(t,i,r,o){var a=new A(c(t,i,r,o));return e.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(w),w[n]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function o(r,o){return n.type="throw",n.arg=e,i.next=r,o&&(i.method="next",i.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],n=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),L(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var o=r.arg;L(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:E(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}}]);