(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{285:function(e,s,r){"use strict";r.r(s);var t=r(83),i=r.n(t),n=r(77),o={props:["token"],mixins:[r(81).a],computed:{passwordIsVisible:function(){return"password"!=this.fieldType},submitObject:function(){return{email:this.user.email,password:this.user.password,password_confirmation:this.isLogin?"":this.user.passwordConfirm,token:this.token}},endPoint:function(){return"/password/reset"}},data:function(){return{user:this.initializeUserObject(),fieldType:"password",pageHeight:0,active:"",serverErrors:[],alerts:[],disabled:!1}},methods:{initializeUserObject:function(){return{email:"",password:"",passwordConfirm:""}},onSubmit:function(){var e=this;if(this.checkVuelidate())return!1;console.log(this.submitObject),axios.post(this.endPoint,this.submitObject).then((function(s){e.isLogin?location.reload():e.onRegistered()})).catch((function(s){e.onErrors(s)}))},onToggle:function(e){this.active=e,"password"==e&&this.$v.user.password.$touch,this.serverErrors=[]},hideAlerts:function(){this.disabled=!1,this.alerts=[]},handleResize:function(){this.pageHeight="height:".concat(window.innerHeight,"px")},togglePasswordVisible:function(){this.fieldType="password"===this.fieldType?"text":"password"},hasServerError:function(e){return e&&i.a.has(this,"serverErrors."+e)&&!i.a.isEmpty(this.serverErrors[e])}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},validations:{user:{email:{required:n.required,serverFailed:function(){return!this.hasServerError("email")}},password:{serverFailed:function(){return!this.hasServerError("password")},required:n.required},passwordConfirm:{sameAsPassword:function(){return!!this.isLogin||this.user.password==this.user.passwordConfirm}}}}},a=r(80),d=Object(a.a)(o,(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"login-index grid",style:e.pageHeight},[r("div",{staticClass:"login-information"},[e._m(0),e._v(" "),r("div",{staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:{active:"email"==e.active,error:e.$v.user.email.$error},attrs:{id:"email",type:"email",required:"",placeholder:"Email",autofocus:""},domProps:{value:e.user.email},on:{click:function(s){return e.onToggle("email")},blur:function(s){e.active=null},input:[function(s){s.target.composing||e.$set(e.user,"email",s.target.value)},e.$v.user.email.$touch],keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onSubmit(s)}}}),e._v(" "),e.$v.user.email.$error?r("div",{staticClass:"validation-error"},[e.$v.user.email.required?e._e():r("p",{staticClass:"error"},[e._v("The email is required")]),e._v(" "),e.$v.user.email.serverFailed?e._e():r("p",{staticClass:"error"},[e._v(e._s(e.serverErrors.email[0]))])]):e._e()]),e._v(" "),r("div",{staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"pass",class:{active:"password"==e.active,error:e.$v.user.password.$error},attrs:{id:"password",type:"password",required:"",placeholder:"Password"},domProps:{value:e.user.password},on:{click:function(s){return e.onToggle("password")},blur:function(s){e.active=null},input:[function(s){s.target.composing||e.$set(e.user,"password",s.target.value)},function(s){return e.onToggle("password")}],keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onSubmit(s)}}}),e._v(" "),e.$v.user.password.$error?r("div",{staticClass:"validation-error"},[e.$v.user.password.serverFailed?e._e():r("p",{staticClass:"error"},[e._v("Must be at least 8 characters")]),e._v(" "),e.$v.user.password.required?e._e():r("p",{staticClass:"error"},[e._v("The password is required")])]):e._e()]),e._v(" "),r("div",{staticClass:"field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passwordConfirm,expression:"user.passwordConfirm"}],staticClass:"pass",class:{active:"passwordConfirm"==e.active,error:e.$v.user.passwordConfirm.$error},attrs:{id:"password",type:"password",required:"",placeholder:"Confirm Password"},domProps:{value:e.user.passwordConfirm},on:{click:function(s){e.active="passwordConfirm"},blur:function(s){e.active=null},input:[function(s){s.target.composing||e.$set(e.user,"passwordConfirm",s.target.value)},function(s){e.active="passwordConfirm"}],keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onSubmit(s)}}}),e._v(" "),e.$v.user.passwordConfirm.$error?r("div",{staticClass:"validation-error"},[e.$v.user.passwordConfirm.sameAsPassword?e._e():r("p",{staticClass:"error"},[e._v("Passwords must be the same")]),e._v(" "),e.$v.user.passwordConfirm.isRequiredRegister?e._e():r("p",{staticClass:"error"},[e._v("The passwordConfirm is required")])]):e._e()]),e._v(" "),r("div",{staticClass:"field"},[r("button",{staticClass:"login-button",attrs:{type:"submit",disabled:e.disabled},on:{click:e.onSubmit}},[e._v(" Reset ")])])]),e._v(" "),r("div",{staticClass:"login-image"},[r("picture",[r("img",{style:e.pageHeight,attrs:{src:"/storage/website-files/login-image.jpg"}})])]),e._v(" "),e.alerts.message?r("PasswordForget",{attrs:{message:e.alerts.message},on:{close:e.hideAlerts}}):e._e()],1)}),[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"login-information__title"},[s("h3",[this._v("Reset Password")])])}],!1,null,null,null);s.default=d.exports},80:function(e,s,r){"use strict";function t(e,s,r,t,i,n,o,a){var d,u="function"==typeof e?e.options:e;if(s&&(u.render=s,u.staticRenderFns=r,u._compiled=!0),t&&(u.functional=!0),n&&(u._scopeId="data-v-"+n),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=d):i&&(d=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),d)if(u.functional){u._injectStyles=d;var c=u.render;u.render=function(e,s){return d.call(s),c(e,s)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return{exports:e,options:u}}r.d(s,"a",(function(){return t}))},81:function(e,s,r){"use strict";s.a={methods:{checkVuelidate:function(){return this.$v.$touch(),!this.$v.$invalid&&(this.disabled=!0),this.$v.$invalid},onErrors:function(e){e&&(this.serverErrors=e.response.data.errors),this.disabled=!1},onBackInitial:function(){return window.location.href="/create-event/edit/"},onBack:function(e){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(e)},onFetch:function(e){return"/create-event/".concat(this.event.slug,"/").concat(e,"/fetch?timestamp=").concat((new Date).getTime())},onForward:function(e){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(e)},onRegistered:function(){return window.location.href="/email/verify"},onFinishOrganizer:function(e){return window.location.href=e}}}}}]);