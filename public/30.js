(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{266:function(t,e,n){"use strict";n.r(e);var i=n(81),a=n(77),o={mixins:[i.a],props:["event"],computed:{endpoint:function(){return"/create-event/".concat(this.event.slug,"/title")}},data:function(){return{title:this.initializeTitleObject(),active:null,disabled:!1,resubmit:!1,modal:!1,approved:"p"==this.event.status||"e"==this.event.status,serverErrors:""}},methods:{initializeTitleObject:function(){return{name:this.event.name?this.event.name:"",tagLine:this.event.tag_line?this.event.tag_line:"",reSubmitEvent:""}},clearinput:function(){this.nameActive=!0,this.serverErrors=[]},onSubmit:function(t){var e=this;if(this.checkVuelidate())return!1;axios.patch(this.endpoint,this.title).then((function(n){"exit"==t?e.onBackInitial():e.onForward("location")})).catch((function(t){e.onErrors(t)}))},onReSubmit:function(){this.title.reSubmitEvent="reSubmit",this.approved=!1,this.modal=!1},onLoad:function(){var t=this;axios.get(this.onFetch("title")).then((function(e){e.data.name&&(t.title.name=e.data.name),e.data.tag_line&&(t.title.tagLine=e.data.tag_line)}))}},created:function(){this.onLoad()},validations:{title:{name:{required:a.required,maxLength:Object(a.maxLength)(140),serverFailed:function(){return!this.serverErrors.name}},tagLine:{maxLength:Object(a.maxLength)(140)}}}},r=n(80),s=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-create__title"},[n("section",{staticClass:"event-create"},[t._m(0),t._v(" "),t.approved?n("div",{staticClass:"field",on:{mouseover:function(e){t.resubmit=!0}}},[n("label",[t._v("Title")]),t._v(" "),n("p",{staticClass:"create-titlename"},[t._v(t._s(t.title.name))]),t._v(" "),t.resubmit?n("button",{staticClass:"editTitle",on:{click:function(e){e.preventDefault(),t.modal=!0}}},[t._v("Edit")]):t._e()]):n("div",{staticClass:"field"},[n("label",[t._v("Project name")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title.name,expression:"title.name"}],class:{active:"name"==t.active,error:t.$v.title.name.$error},attrs:{type:"text",placeholder:" "},domProps:{value:t.title.name},on:{input:[function(e){e.target.composing||t.$set(t.title,"name",e.target.value)},function(e){return t.$v.title.name.$touch()}],click:function(e){t.active="name"},blur:function(e){t.active="null"}}}),t._v(" "),t.$v.title.name.$error?n("div",{staticClass:"validation-error"},[t.$v.title.name.required?t._e():n("p",{staticClass:"error"},[t._v("Please add a title.")]),t._v(" "),t.$v.title.name.maxLength?t._e():n("p",{staticClass:"error"},[t._v("The title is too long.")])]):t._e()]),t._v(" "),n("div",{staticClass:"field"},[n("label",[t._v("Project tag line (Stand out from the other events with a great tag line!)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title.tagLine,expression:"title.tagLine"}],class:{active:"tag"==t.active,error:t.$v.title.tagLine.$error},attrs:{type:"text",placeholder:"Quick, one sentence line to get the audience hooked!"},domProps:{value:t.title.tagLine},on:{input:[function(e){e.target.composing||t.$set(t.title,"tagLine",e.target.value)},function(e){return t.$v.title.tagLine.$touch()}],click:function(e){t.active="tag"},blur:function(e){t.active="null"}}}),t._v(" "),t.$v.title.tagLine.$error?n("div",{staticClass:"validation-error"},[t.$v.title.tagLine.maxLength?t._e():n("p",{staticClass:"error"},[t._v("The tag line is too long.")])]):t._e()])]),t._v(" "),n("section"),t._v(" "),n("div",{staticClass:"event-create__submit-button"},[n("button",{staticClass:"nav-back-button",attrs:{disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.onSubmit("exit")}}},[t._v(" Save and Exit ")])]),t._v(" "),n("div",{staticClass:"create-button__back"},[n("button",{staticClass:"create",attrs:{disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.onBackInitial()}}},[t._v(" Back ")])]),t._v(" "),n("div",{staticClass:"create-button__forward"},[n("button",{staticClass:"create",attrs:{disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.onSubmit()}}},[t._v(" Save and continue ")])]),t._v(" "),t.modal?n("modal",{on:{close:function(e){t.modal=!1}}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"circle del"},[n("p",[t._v("?")])])]),t._v(" "),n("div",{attrs:{slot:"body"},slot:"body"},[n("h3",[t._v("Changing the event name?")]),t._v(" "),n("p",[t._v("Editing the event name will require the event to be reapproved.")])]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"btn del",on:{click:function(e){return t.onReSubmit()}}},[t._v("Change")])])]):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h2",[this._v("Title")])])}],!1,null,null,null);e.default=s.exports},80:function(t,e,n){"use strict";function i(t,e,n,i,a,o,r,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=s?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return i}))},81:function(t,e,n){"use strict";e.a={methods:{checkVuelidate:function(){return this.$v.$touch(),!this.$v.$invalid&&(this.disabled=!0),this.$v.$invalid},onErrors:function(t){t&&(this.serverErrors=t.response.data.errors),this.disabled=!1},onBackInitial:function(){return window.location.href="/create-event/edit/"},onBack:function(t){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(t)},onFetch:function(t){return"/create-event/".concat(this.event.slug,"/").concat(t,"/fetch?timestamp=").concat((new Date).getTime())},onForward:function(t){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(t)},onRegistered:function(){return window.location.href="/email/verify"},onFinishOrganizer:function(t){return window.location.href=t}}}}}]);