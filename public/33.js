(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{Iky9:function(e,s,t){"use strict";t.r(s);var a=t("ciAJ"),i=t("ta7f"),n={mixins:[a.a],props:["loaduser","loadmessages"],components:{},computed:{conversationType:function(){return this.conversations.messages.length?this.conversations.messages:this.conversations.modmessages},isResponder:function(){var e=this;return function(s){return s.user_id!==e.loaduser.id}},isMessage:function(){return!!this.conversations.messages.length},endpoint:function(){return"/conversations/".concat(this.conversations.id)},submitObject:function(){return{message:this.message,type:this.isMessage?"message":"event"}}},data:function(){return{user:this.loaduser?this.loaduser:"",conversations:this.loadmessages?this.loadmessages:"",message:"",owner:"",responder:"",disabled:!1,avatar:this.loaduser.thumbImagePath?"/storage/".concat(this.loaduser.thumbImagePath):""}},methods:{onSubmit:function(){var e=this;if(this.checkVuelidate())return!1;axios.post(this.endpoint,this.submitObject).then((function(e){location.reload(),console.log(e.data)})).catch((function(s){e.onErrors(s)}))},getOwner:function(){var e=this;console.log(this.loadmessages),this.loadmessages.users.forEach((function(s){s.id==e.loaduser.id&&(e.owner=s),s.id!==e.loaduser.id&&(e.responder=s)}))}},mounted:function(){this.getOwner()},validations:{message:{required:i.required}}},r=t("KHd+"),o=Object(r.a)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"messages-show"},[t("nav",{staticClass:"account-notifications_header desktop"},[t("div",{staticClass:"account-notifications_breadcrumbs"},[t("a",{attrs:{href:"/messages"}},[e._v("Inbox")]),e._v(" > \n                "),e.isMessage?t("span",[e._v("\n                    "+e._s(e.responder.name)+"\n                ")]):t("span",[e._v("\n                    "+e._s(e.conversations.modmessages[0].event.name)+"\n                ")])])]),e._v(" "),t("nav",{staticClass:"event-show mobile"},[t("div",{staticClass:"back"},[t("a",{attrs:{href:"/messages"}},[t("svg",{staticStyle:{display:"block",fill:"none",height:"16px",width:"16px",stroke:"currentcolor","stroke-width":"4",overflow:"visible"},attrs:{"aria-label":"Back",role:"img",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none"}},[t("path",{attrs:{d:"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932"}})])])])])]),e._v(" "),t("div",{staticClass:"messages-show-content grid",class:{single:e.isMessage}},[e.isMessage?e._e():t("div",[t("div",{staticClass:"messages-show-event"},[t("div",{staticClass:"messages-show-event__image"},[t("picture",[t("source",{attrs:{type:"image/webp",srcset:"/storage/"+e.conversations.modmessages[0].event.thumbImagePath}}),e._v(" "),t("img",{attrs:{src:"/storage/"+e.conversations.modmessages[0].event.thumbImagePath.slice(0,-4)+"jpg",alt:e.user.name+"'s account"}})])]),e._v(" "),t("div",{staticClass:"messages-show-event__title"},[t("h3",[e._v(e._s(e.conversations.modmessages[0].event.name))])])])]),e._v(" "),t("div",[t("div",{staticClass:"messages-show__element grid submit"},[t("div",{staticClass:"field"},[t("div",{staticClass:"messages-show__element-textarea"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{type:"text",rows:"4"},domProps:{value:e.message},on:{input:function(s){s.target.composing||(e.message=s.target.value)}}}),e._v(" "),e.$v.message.$error?t("div",{staticClass:"validation-error"},[e.$v.message.required?e._e():t("p",{staticClass:"error"},[e._v("Please write something.")])]):e._e()]),e._v(" "),t("div",{staticClass:"messages-show__submit-bottom"},[t("button",{class:{bspin:e.disabled},attrs:{disabled:e.disabled},on:{click:e.onSubmit}},[e._v("Send message")])])]),e._v(" "),t("div",[t("div",{staticClass:"message-index__image",style:"background:"+e.owner.hexColor},[e.owner.largeImagePath?t("label",{staticClass:"profile-image"},[t("picture",[t("source",{attrs:{type:"image/webp",srcset:"/storage/"+e.owner.thumbImagePath}}),e._v(" "),t("img",{attrs:{src:"/storage/"+e.owner.thumbImagePath.slice(0,-4)+"jpg",alt:e.owner.name+"'s account"}})])]):e.owner.gravatar?t("div",{staticClass:"profile-image"},[t("img",{attrs:{src:e.owner.gravatar,alt:e.owner.name+"'s account"}})]):t("div",{staticClass:"message-index__user-noimage"},[t("h2",[e._v(e._s(e.owner?e.owner.name.charAt(0):""))])])]),e._v(" "),t("div",{staticClass:"message-show__username"},[e._v("\n                            "+e._s(e.owner.name)+"\n                        ")])])]),e._v(" "),e._l(e.conversationType,(function(s){return s.user_id==e.loaduser.id?t("div",{staticClass:"messages-show__element grid"},[t("div",{staticClass:"field"},[t("div",{staticClass:"messages-show__element-textarea"},[t("div",[e._v("\n                                "+e._s(s.message?s.message:s.comments)+"\n                            ")]),e._v(" "),t("div",{staticClass:"messages-show__element-date"},[e._v("\n                                "+e._s(e._f("dateFormat")(new Date(s.created_at),"MMM DD, YYYY"))+"\n                            ")])])]),e._v(" "),t("div",{staticClass:"messages-show__element-image"},[t("div",{staticClass:"message-index__image",style:"background:"+e.owner.hexColor},[e.owner.largeImagePath?t("label",{staticClass:"profile-image"},[t("picture",[t("source",{attrs:{type:"image/webp",srcset:"/storage/"+e.owner.thumbImagePath}}),e._v(" "),t("img",{attrs:{src:"/storage/"+e.owner.thumbImagePath.slice(0,-4)+"jpg",alt:e.owner.name+"'s account"}})])]):e.owner.gravatar?t("div",{staticClass:"profile-image"},[t("img",{attrs:{src:e.owner.gravatar,alt:e.owner.name+"'s account"}})]):t("div",{staticClass:"message-index__user-noimage"},[t("h2",[e._v(e._s(e.owner?e.owner.name.charAt(0):""))])])]),e._v(" "),t("div",{staticClass:"message-show__username"},[e._v("\n                            "+e._s(e.owner.name)+"\n                            "),"a"==e.owner.type?t("b",[e._v("admin")]):e._e()])])]):t("div",{staticClass:"messages-show__element grid",class:{inv:e.isResponder(s)}},[t("div",{staticClass:"messages-show__element-image"},[t("div",{staticClass:"message-index__image",style:"background:"+s.user.hexColor},[s.user.largeImagePath?t("label",{staticClass:"profile-image"},[t("picture",[t("source",{attrs:{type:"image/webp",srcset:"/storage/"+s.user.thumbImagePath}}),e._v(" "),t("img",{attrs:{src:"/storage/"+s.user.thumbImagePath.slice(0,-4)+"jpg",alt:s.user.name+"'s account"}})])]):s.user.gravatar?t("div",{staticClass:"profile-image"},[t("img",{attrs:{src:s.user.gravatar,alt:s.user.name+"'s account"}})]):t("div",{staticClass:"message-index__user-noimage"},[t("h2",[e._v(e._s(s.user?s.user.name.charAt(0):""))])])]),e._v(" "),t("div",{staticClass:"message-show__username"},[e._v("\n                            "+e._s(s.user.name)+"\n                            "),"a"==s.user.type?t("b",[e._v("admin")]):e._e()])]),e._v(" "),t("div",{staticClass:"field"},[t("div",{staticClass:"messages-show__element-textarea"},[t("div",[e._v("\n                                "+e._s(s.message?s.message:s.comments)+"\n                            ")]),e._v(" "),t("div",{staticClass:"messages-show__element-date"},[e._v("\n                                "+e._s(e._f("dateFormat")(new Date(s.created_at),"MMM DD, YYYY"))+"\n                            ")])])])])}))],2)])]),e._v(" "),t("div",{staticClass:"message-bar-mobile"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"message-bar__input",attrs:{type:"text",placeholder:"Write message here"},domProps:{value:e.message},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.onSubmit(s)},input:function(s){s.target.composing||(e.message=s.target.value)}}}),e._v(" "),t("button",{staticClass:"message-bar__submit",attrs:{disabled:e.disabled},on:{click:e.onSubmit}},[t("svg",{staticClass:"svgbutton",class:{disabled:e.disabled},staticStyle:{height:"24px",width:"24px",display:"block"},attrs:{role:"presentation","aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{attrs:{cx:"12",cy:"12",r:"12"}}),t("g",{attrs:{"clip-path":"url(#clipeSendIcon33)"}},[t("path",{attrs:{transform:"scale(1)","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.2929 6.29289C11.6834 5.90237 12.3166 5.90237 12.7071 6.29289L16.7071 10.2929C17.0976 10.6834 17.0976 11.3166 16.7071 11.7071C16.3166 12.0976 15.6834 12.0976 15.2929 11.7071L13 9.41421V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V9.41421L8.70711 11.7071C8.31658 12.0976 7.68342 12.0976 7.29289 11.7071C6.90237 11.3166 6.90237 10.6834 7.29289 10.2929L11.2929 6.29289Z",fill:"white"}})]),t("defs",[t("clipPath",{attrs:{id:"clipeSendIcon33"}},[t("rect",{attrs:{width:"12",height:"12",fill:"white",transform:"translate(6 6)"}})])])])])])])}),[],!1,null,null,null);s.default=o.exports},"KHd+":function(e,s,t){"use strict";function a(e,s,t,a,i,n,r,o){var c,l="function"==typeof e?e.options:e;if(s&&(l.render=s,l.staticRenderFns=t,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,s){return c.call(s),d(e,s)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,c):[c]}return{exports:e,options:l}}t.d(s,"a",(function(){return a}))},ciAJ:function(e,s,t){"use strict";s.a={methods:{checkVuelidate:function(){return this.$v.$touch(),!this.$v.$invalid&&(this.disabled=!0),this.$v.$invalid},onErrors:function(e){e&&(this.serverErrors=e.response.data.errors),this.disabled=!1},onBackInitial:function(){return window.location.href="/create-event/edit/"},onBack:function(e){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(e)},onFetch:function(e){return"/create-event/".concat(this.event.slug,"/").concat(e,"/fetch?timestamp=").concat((new Date).getTime())},onForward:function(e){return window.location.href="/create-event/".concat(this.event.slug,"/").concat(e)},onRegistered:function(){return window.location.href="/email/verify"},onFinishOrganizer:function(e){return window.location.href=e}}}}}]);